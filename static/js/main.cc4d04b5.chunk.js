(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{34:function(t,e,n){},35:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var a=n(1),c=(n(0),n(6)),o=n.n(c),i=n(5),r=(n(34),n(35),n(21)),s=n.n(r),l="REQUEST",u="RECEIVE",j="SELECT_LOCATION",d=function(t){return{weather:t[0].time[0].parameter.parameterName,pop:t[1].time[0].parameter.parameterName,minT:t[2].time[0].parameter.parameterName,maxT:t[4].time[0].parameter.parameterName}},m=function(t){return function(e){return e(function(t){return{type:l,location:t}}(t)),s.a.get("https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001",{params:{Authorization:"CWB-62F6CBF3-5E6A-455D-9B90-2CA5F2B22A9D",locationName:t}}).then((function(n){setTimeout((function(){return e(function(t,e){return{type:u,location:t,getData:d(e.weatherElement)}}(t,n.data.records.location[0]))}),1e3)})).catch((function(t){return console.log(t)}))}},b=function(t){var e=t.className,n=t.locationName,c=t.onClick,o=t.disable;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{className:e,type:"button",onClick:c,disabled:o,children:n})})},h=Object(i.b)((function(t,e){return{disable:t.selectLocation===e.locationName}}),(function(t,e){return{onClick:function(){var n;t((n=e.locationName,{type:j,location:n})),t(function(t){return function(e,n){return e(m(t))}}(e.locationName))}}}))(b),p=(n(53),function(){return Object(a.jsxs)("div",{className:"loactionBlock",children:[Object(a.jsx)(h,{className:"btn",locationName:"\u81fa\u5317\u5e02"}),Object(a.jsx)(h,{className:"btn",locationName:"\u65b0\u5317\u5e02"}),Object(a.jsx)(h,{className:"btn",locationName:"\u81fa\u4e2d\u5e02"})]})}),O=(n(54),function(){return Object(a.jsx)("div",{className:"loader"})}),f=function(t){var e=t.locationName,n=t.data;return!0===t.isLoading?Object(a.jsx)(O,{}):n.weather?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:e}),Object(a.jsxs)("p",{children:["\u5929\u6c23: ",n.weather]}),Object(a.jsxs)("p",{children:["\u6700\u9ad8\u6eab: ",n.maxT," \xb0C"]}),Object(a.jsxs)("p",{children:["\u6700\u4f4e\u6eab: ",n.minT," \xb0C"]}),Object(a.jsxs)("p",{children:["\u964d\u96e8\u6a5f\u7387: ",n.pop,"%"]})]}):Object(a.jsx)("div",{children:"\u8acb\u9ede\u9078\u5730\u5340"})},g=Object(i.b)((function(t){return{locationName:t.selectLocation,data:(e=t.selectLocation,n=t.getWeather,n[e]?n[e].items:{}),isLoading:t.getWeather[t.selectLocation]?t.getWeather[t.selectLocation].isLoading:""};var e,n}))(f);var N=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(p,{}),Object(a.jsx)(g,{})]})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),o(t),i(t)}))},v=n(3),C=n(22),L=n(7),w=n(4),y=function(t,e){switch(e.type){case l:return Object(w.a)(Object(w.a)({},t),{},{isLoading:!0,isAlreadyGet:!1,items:{}});case u:return Object(w.a)(Object(w.a)({},t),{},{isLoading:!1,isAlreadyGet:!0,items:e.getData});default:return t}},E=Object(v.c)({selectLocation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u53f0\u5317\u5e02",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return e.location;default:return t}},getWeather:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:case u:return Object(w.a)(Object(w.a)({},t),{},Object(L.a)({},e.location,y(t[e.location],e)));default:return t}}}),T=Object(v.d)(E,Object(v.a)(C.a));o.a.render(Object(a.jsx)(i.a,{store:T,children:Object(a.jsx)(N,{})}),document.getElementById("root")),x()}},[[55,1,2]]]);
//# sourceMappingURL=main.cc4d04b5.chunk.js.map